{% extends 'base.html' %}
{% block content %}
<div class="min-h-screen bg-gray-100 flex items-center justify-center py-10 px-4">
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl p-6 space-y-6">

    <h1 class="text-3xl font-bold text-center text-gray-800">ğŸ½ï¸ Calorie Tracker</h1>

    <!-- Form -->
    <form method="POST" action="{% url 'add_item' %}" class="flex flex-col sm:flex-row gap-4">
      {% csrf_token %}
      <input type="text" name="name" placeholder="Food Item" required
             class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <input type="number" name="calories" placeholder="Calories" required
             class="w-32 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <button type="submit"
              class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
        â• Add
      </button>
    </form>

    <!-- List -->
    <ul class="divide-y divide-gray-200">
      {% for item in items %}
      <li class="flex justify-between items-center py-3">
        <div class="text-gray-700">{{ item.name }} - {{ item.calories }} cal</div>
        <a href="{% url 'delete_item' item.id %}"
           class="text-red-500 hover:text-red-700 transition">ğŸ—‘ï¸ Delete</a>
      </li>
      {% empty %}
      <li class="py-4 text-center text-gray-500">No items added yet today.</li>
      {% endfor %}
    </ul>

    <!-- Total -->
    <div class="text-xl font-semibold text-center text-gray-800">
      Total Calories Today: <span class="text-blue-600">{{ total }}</span>
    </div>

    <!-- Reset Button -->
    <form method="POST" action="{% url 'reset_items' %}" class="text-center">
      {% csrf_token %}
      <button type="submit"
              class="text-sm text-gray-600 hover:text-red-600 underline transition">
        ğŸ”„ Reset for Today
      </button>
    </form>

  </div>
</div>
{% endblock %}
